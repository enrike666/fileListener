Комментарии

1. WatchService.
До конца все тонкости работы данного "слушателя" я до конца не поняла. Но работа тз соответствует. В идеале надо его работу как-то распараллеливать. Поскольку пока обрабатывается одно событие, весь поток блокируется. Тесты показали, что если в этот момент добавить еще один файл, то событие встает в очередь и начинает обрабатываться, когда завершится предыдущее. Хотя написано, что WatchKey перестает слушать... Этого я не поняла. С потоками я пока особо не дружу, но явно вся программа не должна быть в одном потоке.

2.  Для работы с json решила использовать библиотеку Jackson. Мне она показалась удобной и с хорошими возможностями через аннотации управлять преобразованиями (масштабируемость на будущее). Но тут не использовала, вроде так работает). По началу показалось заморочено, но хорошо, что можно с коллекциями работать, если это набор сложных объектов.

3. Для дальнейшей работы с коллекциями в коде решила использовать Stream API, так как проще для понимая (близко к LINQ в C#). Может тут можно было и без него обойтись, задача вроде несложная.  

4. Дальше самое страшное, что получилось в этом проекте - это общение с базой данных. (в итоге с помощью JDBC)
Выбирала между JDBC и Hibernate. Все доводы за Hibernate и на большом проекте однозначно он (или что-то еще из ORM) и с нормальной инфраструктурой, когда для подключения базы отдельный слой, для репозиториев свой, файлы с конфигурациями сущностей и подключения. А теперь почему при всем этом выбрала JDBC: Hibernate инструмент непростой, особенно когда язык считай с нуля учишь, решила, что на изучение Hibernate уйдет слишком много времени. Да и задача простая, одна сущность всего, разводить кучу файлов из-за этого показалось не рациональным. Но даже с JDBC все получилось жутко... У меня немного глаз дергается, когда прям в методе создается коннекшен к базе и тут же запросы через sql. Но как это сделать нормально и правильно я не придумала( Еще этот Statement, не поняла, для чего он нужен. Работает ли он в контексте одного подключения и можно ли его держать один на все приложение (как коннекшен базы в идеале, что бы один контекст был) или Statement надо на каждый запрос создавать, или это что-то типо транзакции. Аа, точно, на счет транзакций - часть, где идет запись в базу, получилось, что на добавление одной строки свой запрос. Я знаю, что это оооочень плохо и база ляжет под такой нагрузкой, если будет много данных. Но запись пачкой в JDBC как-то странно работает, если честно не стала сильно углубляться в этот инструмент, мне кажется, что в enterprise он не используется. 

В общем про получившееся приложение: надо бы весь функционал разнести на классы и разные методы, у меня все в main. Но опять же мне пока сложно с пониманием архитектуры, как это лучше сделать. Да и тут что-то кода получилось немного... Растащить на методы по две строчки - меня это на данном этапе еще больше запутало бы. 

P.S. Извините, что так много пояснений получилось, но захотелось рассказать ход мыслей. 

